<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>AR Rotaci√≥n Touch</title>

  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js/aframe/build/aframe-ar.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/aframe-gesture-detector@3.3.0/dist/aframe-gesture-detector.min.js"></script>

  <style>
    body, html { margin: 0; padding: 0; overflow: hidden; }
  </style>

  <script>
    AFRAME.registerComponent('gesture-rotation', {
      schema: { speed: { default: 2 } },
      init: function () {
        this.rotation = this.el.getAttribute('rotation');
        this.el.sceneEl.addEventListener('onefingermove', (e) => {
          this.rotation.y += e.detail.positionChange.x * this.data.speed;
          this.el.setAttribute('rotation', this.rotation);
        });
      }
    });
  </script>
</head>

<body>

<a-scene embedded vr-mode-ui="enabled: false" arjs="sourceType: webcam; debugUIEnabled: false;" gesture-detector>

  <a-assets>
    <a-asset-item id="naturaleza" src="modelos/Naturaleza.glb"></a-asset-item>
  </a-assets>

  <a-entity light="type: ambient; intensity: 1.4"></a-entity>
  <a-entity light="type: directional; intensity: 3" position="1 3 2"></a-entity>

  <a-marker type="pattern" url="markers/nature.patt">
    <a-entity gltf-model="#naturaleza" scale="0.5 0.5 0.5" 
              position="0 0 0" 
              rotation="0 0 0"
              gesture-rotation="speed:1.5">
    </a-entity>
  </a-marker>

  <a-entity camera></a-entity>
</a-scene>

</body>
</html>
